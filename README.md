<div align="center">

# ðŸ§  Singularis

### *Distributed Meta-MoE AGI for Life & Games*

**Twin AGI Systems: Life Operations + Skyrim Intelligence (Research Prototype)**

*Bridging philosophy, neuroscience, personal life tracking, and gaming AI through a distributed, consciousness-driven architecture*

---

[![Version](https://img.shields.io/badge/version-Beta%20v5.0-blue.svg)](https://github.com/zoadrazorro/Singularis-Neo/releases)
[![Python](https://img.shields.io/badge/python-3.10%2B-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-LifeOps%20Production%20Ready-brightgreen.svg)](https://github.com/zoadrazorro/Singularis-Neo)
[![Status](https://img.shields.io/badge/status-AGI%20v5-Research%20Prototype-orange.svg)](SINGULARIS_V5_README.md)
[![Completion](https://img.shields.io/badge/completion-v5.0%20Core%20Architecture%20Complete-success.svg)](https://github.com/zoadrazorro/Singularis-Neo)
[![Stars](https://img.shields.io/github/stars/zoadrazorro/Singularis-Neo?style=social)](https://github.com/zoadrazorro/Singularis-Neo/stargazers)
[![Issues](https://img.shields.io/github/issues/zoadrazorro/Singularis-Neo)](https://github.com/zoadrazorro/Singularis-Neo/issues)
[![Forks](https://img.shields.io/github/forks/zoadrazorro/Singularis-Neo?style=social)](https://github.com/zoadrazorro/Singularis-Neo/network/members)

**âœ… Production Ready (Life Ops)** | **ðŸ§ª Distributed Meta-MoE v5 (Research Prototype)** | **ðŸ“… Last Updated: November 18, 2025**

</div>

---

## ðŸŽ‰ Singularis v5.0 - Distributed Meta-MoE + Biological Networks

**Release Date**: November 18, 2025  
**Major Achievement**: First complete **4-device Meta-MoE cluster** with brain-like topology across all components.

### What's New in v5.0

âœ… **1. 4-Device SEPHIROT Cluster (Complete Reasoning Triad)**
- **Cygnus** (AMD 2x7900XT): 10 specialized 4B experts (deductive / symbolic)
- **Router** (AMD 6900XT): UnifiedConsciousnessLayer + LifeOps + DATA-Brain swarm
- **MacBook Pro M3**: Large MoE (9GB) + AURA-Brain (9GB) in orchestra (inductive / biological)
- **NVIDIA Laptop (RTX 5060 8GB)**: Abductive Positronic Network (hypothesis generation)

âœ… **2. Universal Modular Network Topology**
- Single `ModularNetwork` backbone for:
  - Consciousness nodes
  - Swarm agents (DATA-Brain)
  - AURA-Brain neurons
  - Positronic nodes
- Scale-free + small-world + modular â†’ **brain-like connectivity** everywhere.

âœ… **3. Meta-MoE with Context-Aware ExpertArbiter**
- 10 Cygnus experts (vision, logic, memory, action, emotion, reasoning, planning, language, analysis, synthesis)
- `ExpertArbiter` learns from performance and context; continuously improves expert routing.

âœ… **4. DATA-Brain Swarm Intelligence Layer**
- 64+ micro-agents with Hebbian dynamics on the Router GPU.
- Emergent behavior, 95% activation sparsity, scale-free topology.

âœ… **5. AURA-Brain Bio-Simulator (MacBook)**
- 1000+ spiking neurons with 4 neuromodulators (dopamine, serotonin, norepinephrine, acetylcholine).
- STDP learning, 95% sparsity, runs on Metal (M3 Pro).

âœ… **6. Abductive Positronic Network (NVIDIA)**
- 512+ positronic nodes for causal, diagnostic, predictive, explanatory, and counterfactual hypotheses.
- Runs on RTX 5060 (8GB) with CUDA.

âœ… **7. v5 Test Suite + Cluster Verifier**
- `test_singularis_v5.py`: 7 tests (modular network, Meta-MoE, swarm, AURA, positronic, consciousness, end-to-end).
- `verify_cluster.py`: Probes Cygnus (1234â€“1243), MacBook (2000, 3000), NVIDIA (4000) and prints cluster health.

âœ… **8. Modular Deployment Plan**
- New `docs/MODULAR_DEPLOYMENT.md` describes splitting into:
  - `singularis-core` (shared), `singularis-router`, `singularis-cygnus`, `singularis-macbook`, `singularis-nvidia`.
- Each device only installs what it needs.

---

## What This Actually Does

Singularis is a modular AGI architecture with two specialized systems:

### 1. **Life Operations AGI** ðŸ 
Personal life tracking and intelligence:
- Tracks life events (sleep, exercise, health, camera feeds, tasks, calendar)
- Analyzes patterns with AGI reasoning (GPT-5)
- Answers natural language queries ("How did I sleep last week?")
- Provides intelligent interventions based on context
- **Sophia Dashboard**: Web + mobile UI for life examination
- **Productivity Module**: Calendar/task sync with intelligent suggestions
- Integrates: Fitbit, home cameras, Messenger bot, Meta Glasses, Google Calendar, Todoist, Notion, Home Assistant

### 2. **Skyrim AGI** ðŸŽ®
Autonomous game-playing intelligence with **complete 4-layer world understanding**:
- **GWM (Game World Model)**: Structured tactical features from game engine
- **IWM (Image World Model)**: Visual latents and prediction from screenshots
- **MWM (Mental World Model)**: Multi-modal fusion with learned affect
- **PersonModel**: Complete agent with personality, values, goals, social relationships
- Decides actions using personality-driven scoring (traits + values + constraints)
- Controls game via virtual gamepad
- Learns from outcomes using temporal binding

**Current State**: Complete world understanding architecture implemented and tested. Life Ops is production-ready for personal use. Skyrim AGI has full perception-to-action pipeline with personality system.

> Note: Skyrim AGI currently runs on a separate experimental stack (Gemini, GPT, etc.).
> The new v5 distributed Meta-MoE + modular network stack is focused on LifeOps and the 4-device cluster.

## Core Features

### DATA-Brain Swarm Intelligence (v5) ðŸ¤–

**DATA-Brain** replaces the earlier prototype DATA system with a **swarm intelligence layer** running on the Router GPU:

- 64+ micro-agents (`SwarmIntelligence`) connected via `ModularNetwork` (scale-free topology).
- Roles: perception, memory, reasoning, emotion, action, coordination, learning.
- Hebbian dynamics: "agents that fire together, wire together".
- Emergent patterns used to guide LifeOps and Meta-MoE routing.

**Quick Start (local test):**
```bash
python test_singularis_v5.py --test swarm
```

**Docs:** `docs/MODULAR_NETWORK_INTEGRATION.md` (topology) and `SINGULARIS_V5_README.md` (full v5 design).

### Life Operations (Production Ready) âœ…

**ðŸ“š User Guides Available:**
- **Simple Start**: `LIFEOPS_GETTING_STARTED.md` - Friendly product guide with real scenarios
- **Quick Reference**: `LIFEOPS_QUICK_REFERENCE.md` - One-page overview
- **Product Demo**: `LIFEOPS_PRODUCT_GUIDE.md` - Visual product walkthrough
- **Cheat Sheet**: `LIFEOPS_CHEAT_SHEET.md` - Print-friendly reference card
- **Technical**: `LIFEOPS_USERS_GUIDE.md` - Complete technical documentation

1. **Life Timeline**
   - SQLite database of all life events
   - Multiple sources: Fitbit, cameras, Messenger, manual
   - Query by time, type, source, user

2. **AGI-Powered Vision**
   - Gemini 2.5 Flash analyzes home camera feeds
   - Extracts structured events: person detected, motion, falls, activities
   - Confidence scores and context understanding

3. **Pattern Detection**
   - AGI Pattern Arbiter (GPT-5) finds correlations
   - Sleep quality, exercise habits, daily routines
   - Emergency detection with false-positive prevention

4. **Natural Language Queries**
   - Ask questions about your life data
   - "How did I sleep last week?" â†’ AGI-powered analysis
   - Integrates with Messenger bot for conversational interface

5. **Intelligent Interventions**
   - Context-aware notifications (time, mood, routine)
   - Empathy-driven decision making (Double Helix)
   - Wellness checks, reminders, insights

6. **Sophia Dashboard** ðŸ¦‰
   - Web + mobile visualization of life data
   - Interactive timeline, pattern cards, health metrics
   - AGI-powered conversational interface
   - "Ask Sophia" natural language queries
   - Philosophical insights and self-examination tools

7. **Productivity Integration**
   - Google Calendar, Todoist, Notion sync
   - Intelligent task suggestions based on context
   - Meeting preparation and follow-up automation
   - Time blocking and focus time recommendations

### Skyrim AGI (Research Prototype) ðŸ”¬

1. **Hybrid Action Selection**
   - Fast heuristics for simple decisions (~1ms)
   - GPT-4.1 Nano for complex decisions (~3-5s)
   - Automatically switches based on situation complexity

2. **Virtual Gamepad Control**
   - Sends Xbox 360 controller inputs to Skyrim
   - 20+ actions: movement, combat, camera control
   - Works with any game that accepts controller input

3. **Temporal Binding**
   - Links perception â†’ action â†’ outcome
   - Detects when agent is stuck in loops
   - Tracks success/failure of actions

4. **Conflict Prevention**
   - Prevents contradictory actions
   - Priority system (CRITICAL > HIGH > NORMAL > LOW)
   - Validates actions before execution

5. **Test Mode**
   - Run without game for testing
   - Mock AGI for development
   - Comprehensive test suite (56+ tests)

6. **Complete World Understanding** ðŸŒðŸ§  âœ¨ **NEW**
   - **4-Layer Architecture**: GWM â†’ IWM â†’ MWM â†’ PersonModel
   - **GWM**: Tactical game state (threat, enemies, cover)
   - **IWM**: Visual latents and prediction (what will I see?)
   - **MWM**: Multi-modal fusion with learned affect (how do I feel?)
   - **PersonModel**: Complete agent with personality, values, goals
   - **Personality System**: 6 templates (loyal companion, bandit, guard, etc.)
   - **Action Scoring**: Traits + Values + Goals + Constraints
   - **Mental Simulation**: Predict future mental states given actions
   - **Training Ready**: Logs (GWM, IWM, action, reward) for offline learning
   - **See**: `WORLD_MODELS_README.md` for complete documentation

---

## SEPHIROT v5 Cluster Architecture ðŸŒ³

Singularis v5 can run on a **single machine** for development, but is designed for a 4-device cluster in production:

### Node Layout (v5)

**ðŸ§  Router (AMD 6900XT)** â€“ Orchestration Core
- UnifiedConsciousnessLayer (GPT-5 + nano experts)
- MetaMoERouter + ExpertArbiter (connects to Cygnus + MacBook)
- DATA-Brain Swarm (`SwarmIntelligence`)
- LifeOps core (LifeQueryHandler, AGIPatternArbiter, AGIInterventionDecider)

**ðŸŽ¯ Cygnus (AMD 2x7900XT)** â€“ Meta-MoE Primary
- 10 specialized 4B experts exposed via LM Studio on ports 1234â€“1243.
- Domains: Vision, Logic, Memory, Action, Emotion, Reasoning, Planning, Language, Analysis, Synthesis.

**ðŸ§¬ MacBook Pro M3** â€“ Orchestra Mode (MoE + AURA)
- Large MoE (9GB) on port 2000 (e.g. Qwen2.5-14B-MoE or Mixtral-8x7B).
- AURA-Brain Bio-Simulator (9GB) on port 3000 with 1024 spiking neurons.
- Both run in parallel; Router combines symbolic + biological outputs.

**ðŸ” NVIDIA Laptop (RTX 5060 8GB)** â€“ Abductive Positronic Node
- AbductivePositronicNetwork server on port 4000.
- Generates abductive hypotheses (causal, diagnostic, predictive, explanatory, counterfactual).

### Health Checking

Use `verify_cluster.py` to check live cluster health:

```bash
python verify_cluster.py \
  --cygnus-ip 192.168.1.50 \
  --macbook-ip 192.168.1.100 \
  --nvidia-ip 192.168.1.101
```

Example output:

```text
SINGULARIS V5.0 CLUSTER HEALTH
  Cygnus IP  : 192.168.1.50
  MacBook IP : 192.168.1.100
  NVIDIA IP  : 192.168.1.101

- Cygnus:1234        UP               HTTP 200
- Cygnus:1235        UP               HTTP 200
...
- MacBook:MoE        UP               HTTP 200
- MacBook:AURA       MISSING/OPTIONAL timeout
- NVIDIA:Positronic  MISSING/OPTIONAL timeout

SUMMARY
  Cygnus experts : 10/10 (100.0% UP)
  MacBook MoE    : UP
  MacBook AURA   : MISSING (optional)
  NVIDIA Positr. : MISSING (optional)
```

For modular deployment details, see `docs/MODULAR_DEPLOYMENT.md`.

---

## What's Experimental (Skyrim AGI)

- Vision system (Gemini/Qwen-VL) - works but rate-limited
- Learning/memory systems - implemented but not validated
- "Consciousness" metrics - philosophical concepts, not proven
- Voice/video systems - integrated but optional
- Many subsystems are templates or partially implemented

1. What the architecture is (Singularis Neo / SkyrimAGI)

Think of Singularis Neo as a distributed brain spread across several PCs, each with a specific cognitive role:

Core Pieces

ActionArbiter (on the gaming laptop) â€“ â€œPrefrontal cortexâ€

Receives candidate actions from different policies (exploration, combat, dialogue, safety, etc.).

Ranks them by confidence + priority (CRITICAL/HIGH/NORMAL/LOW).

Either:

picks an action locally (fast path), or

escalates to a larger LLM for deeper reasoning (slow path).

GPT Hybrid Coordinator â€“ â€œMeta-cognitionâ€

Only used for 10â€“20% of decisions when things are confusing:

conflicting actions, low confidence, temporal weirdness, or periodic check-ins.

Takes full context (BeingState, recent history, candidate actions) and returns a single recommended action plus rationale.

Temporal Binding Engine â€“ â€œSense of continuityâ€

Links perception â†’ chosen action â†’ outcome into bindings.

Tracks which bindings close successfully vs. time out or loop.

Detects stuck patterns (e.g., pacing in circles, camera jitter).

Produces metrics like closure rate and temporal coherence that feed back into arbitration and learning.

BeingState â€“ â€œGlobal workspace / self-stateâ€

Unified state object that holds:

game state, perception, memory recalls, health, goals, recent actions, etc.

Updated every cycle with fresh data from perception and memory nodes.

Is what both the local arbiter and LLM â€œseeâ€ when reasoning.

Conflict Prevention System â€“ â€œSafety & sanity checksâ€

Checks for:

stuck loops (â‰¥ N cycles)

low temporal coherence

subsystem disagreements

health/safety issues

Applies override rules based on priority (CRITICAL can override almost anything; LOW gets blocked easily).

Perception & Swarm Neurons (AMD tower)

Heavy vision models turn frames into structured scene descriptions and affordances.

Swarm of specialist LLMs (â€œneuronsâ€) propose actions or evaluations:

navigation, combat, loot choice, dialogue style, risk assessment, etc.

RL / curriculum logic trains and refines these over time.

Memory Server (6900XT machine)

Vector database + embeddings.

Stores episodes, summaries, quest history, world facts, and long-term patterns.

Provides /memory/query and /memory/store style APIs so the core can recall or commit memories.

Control Plane NUC (MSI Cubi)

API gateway, message bus, and metrics stack.

Central place for:

routing requests between nodes

collecting telemetry (coherence, closure rate, conflicts, GPT usage)

managing configs/experiments (exploration rate, thresholds).

Dev/Ops Console (MacBook)

Where you develop, deploy, and watch dashboards.

No heavy computeâ€”just control and observability.

2. What the program actually does in Skyrim

On each cycle, for Skyrim, Singularis Neo basically does:

See the world

Captures the current frame + game state (health, enemies, position, UI).

Optionally ships the frame to the AMD tower for rich vision analysis.

Updates BeingState with perception and any recalled memories.

Propose what to do

Multiple policies (exploration, combat, dialogue, safety, etc.) each propose 1â€“3 candidate actions (with confidence scores).

Swarm neurons on the AMD box can also propose or critique actions.

Decide how to decide

ActionArbiter checks:

Are candidates high-confidence and non-conflicting?

Is temporal coherence good?

Are we not in a stuck loop?

If â€œsimple caseâ€: pick locally (fast path).

If â€œhard caseâ€: call the main LLM for deeper reasoning (slow path).

Validate and execute the action

Conflict system verifies:

not unsafe

not obviously looping

priority rules respected

If valid, the action is translated into virtual gamepad inputs and sent to Skyrim (move, attack, talk, loot, etc.).

Bind action to outcome

Temporal Binding Engine:

records the context + action as an open binding,

observes what happens next,

closes the binding when consequences are visible or times out.

Updates metrics: closure rate, loop counts, temporal coherence.

Learn and update memory

Memory server stores the new episode / insight.

RL and swarm components can be updated off-line (on the AMD tower) using recorded gameplay.

Coherence and binding metrics slowly shape which policies are trusted more.

Do it again

The loop repeats, typically with local decisions ~80â€“90% of the time and LLM escalations only when needed.

3. In one sentence

SkyrimAGI / Singularis Neo is a distributed AGI-style system that watches the game, remembers what worked, proposes multiple possible actions, arbitrates between them using both fast local logic and slower LLM reasoning, executes the chosen action through a virtual controller, and continuously tracks cause-and-effect over time so it can stay coherent, avoid getting stuck, and gradually improve its behavior as an autonomous Skyrim player.

---

## Quick Start

### Life Operations Demo

```bash
# 1. Install dependencies
cd integrations
pip install -r requirements.txt

# 2. Set up API keys
cp .env.example .env
# Edit .env with your API keys:
# - GEMINI_API_KEY (for AGI vision)
# - OPENAI_API_KEY (for GPT-5)
# - MESSENGER_PAGE_TOKEN (optional)

# 3. Run main orchestrator
python main_orchestrator.py

# 4. Test life query (in another terminal)
curl -X POST http://localhost:8080/query \
  -H "Content-Type: application/json" \
  -d '{"user_id":"test","query":"What patterns do you see?"}'
```

**What you'll see**:
- Main orchestrator starts
- Life Timeline initialized
- AGI consciousness connected
- API endpoints available at http://localhost:8080
- Query handler ready for natural language questions

### Skyrim AGI Demo (Test Mode - No Game Required)

```bash
# 1. Install dependencies
pip install -r requirements.txt

# 2. Set up API key (optional for test mode)
echo "OPENAI_API_KEY=your-key-here" > .env

# 3. Run test mode (60 seconds)
python run_beta_v3.py --test-mode --duration 60
```

**What you'll see**: 
- System initializes hybrid coordination
- Generates random action candidates
- Selects actions using fast local OR GPT-4.1 Nano
- Executes via virtual gamepad (no game needed)
- Prints statistics every 60 seconds

**Expected output**:
```
Actions: 15-20 successful
Fast local: 80-90%
GPT-4.1: 10-20%
Temporal coherence: ~1.0
```

## Full Setup (With Skyrim)

**Requirements**:
- Skyrim running in windowed mode
- OpenAI API key for GPT-4.1 Nano
- Google API key for Gemini vision (optional)
- ~2GB RAM for local vision models

**Warning**: This is experimental. Expect issues with:
- API rate limits (Gemini: 30 RPM free tier)
- Vision model accuracy
- Action execution timing
- Stuck loops in complex scenarios

```bash
# Run with full SkyrimAGI
python run_beta_v3.py

# Monitor in real-time
# Watch console for action decisions and stats
```

**For detailed setup**: See `docs/SETUP.md` (if it exists)

---

## Architecture Overview

### Life Operations Architecture

```
Data Sources (Fitbit, Cameras, Messenger)
    â†“
Life Timeline (SQLite/PostgreSQL)
    â†“
Pattern Engine (AGI Pattern Arbiter)
    â†“
Unified Consciousness Layer (GPT-5)
    â†“
Life Query Handler
    â†“
Outputs (Messenger bot, API, Interventions)
```

**Key Components**:
- `life_timeline.py`: Event database
- `pattern_engine.py`: Pattern detection
- `life_query_handler.py`: Natural language queries
- `agi_pattern_arbiter.py`: GPT-5 powered analysis
- `main_orchestrator.py`: Coordinates all integrations

### Skyrim AGI Architecture

**High-level flow**: Perception â†’ State Update â†’ Action Selection (Fast/GPT) â†’ Conflict Check â†’ Execute â†’ Learn

**For detailed architecture**: See `SKYRIM_AGI_ARCHITECTURE.md`

### Simplified Flow

```
Game Screenshot
      â†“
Vision System (Gemini/Qwen)
      â†“
State Update (BeingState)
      â†“
Generate 2-3 Action Candidates
      â†“
Decision: Simple or Complex?
      â”œâ”€ Simple â†’ âš¡ Fast Local (<1ms) - Pick highest confidence
      â””â”€ Complex â†’ ðŸ§  GPT-4.1 Nano (3-5s) - Reason about options
      â†“
Conflict Check (stuck loops, health, etc.)
      â†“
Execute via Virtual Gamepad
      â†“
Observe Outcome & Learn
```

**Key insight**: Most decisions are simple (80-90%) so we use fast heuristics. Only complex/ambiguous situations need GPT-4.1.

---

## Key Components

### Life Operations Modules

**Core**:
- `integrations/life_timeline.py` - Event database and queries
- `integrations/pattern_engine.py` - Pattern detection engine
- `integrations/main_orchestrator.py` - Main coordinator
- `singularis/life_ops/life_query_handler.py` - Natural language queries
- `singularis/life_ops/agi_pattern_arbiter.py` - GPT-5 pattern analysis
- `singularis/life_ops/agi_intervention_decider.py` - Intelligent interventions

**Integrations**:
- `integrations/messenger_bot_adapter.py` - Facebook Messenger bot
- `integrations/fitbit_health_adapter.py` - Fitbit data sync
- `integrations/roku_screencap_gateway.py` - Camera feed processing
- `integrations/meta_glasses_adapter.py` - Meta Glasses integration
- `integrations/Sophia/` - Web dashboard + mobile app
- `integrations/Sophia/productivity/` - Calendar/task management

### Skyrim AGI Modules

**Core**:
- `run_beta_v3.py` - Main entry point, test/production modes
- `singularis/skyrim/action_arbiter.py` - Action selection & validation
- `singularis/core/being_state.py` - Unified state management
- `singularis/core/temporal_binding.py` - Perception-action-outcome tracking
- `singularis/skyrim/actions.py` - Virtual gamepad control
- `singularis/llm/gpt5_orchestrator.py` - GPT-4.1 Nano integration

### Priority System

- **CRITICAL**: Survival (health < 20), overrides everything
- **HIGH**: Combat, urgent actions
- **NORMAL**: Exploration, standard gameplay
- **LOW**: Idle, background tasks

---

## Configuration

### BetaV3Config

```python
@dataclass
class BetaV3Config:
    # General
    test_mode: bool = False  # False = Production with full SkyrimAGI
    duration_seconds: Optional[int] = None
    verbose: bool = False
    
    # GPT-4.1 Nano Coordination (Hybrid System)
    enable_gpt5: bool = True  # Enable hybrid coordination
    gpt5_model: str = "gpt-4.1-nano-2025-04-14"  # GPT-4.1 Nano
    openai_api_key: Optional[str] = None  # Load from .env
    
    # Action Arbiter
    enable_conflict_prevention: bool = True
    enable_temporal_tracking: bool = True
    
    # Temporal Binding
    temporal_window_size: int = 20
    temporal_timeout: float = 30.0
    target_closure_rate: float = 0.95
    
    # Monitoring
    stats_interval: int = 60  # Print stats every 60s
    checkpoint_interval: int = 300  # Save checkpoint every 5min
```

---

## Testing

### Test Suite

**Total**: 56+ tests across 4 test files

1. **Core Tests** (`test_beta_v3_core.py`)
   - BeingState: 7 tests
   - TemporalBinding: 6 tests

2. **Arbiter Tests** (`test_beta_v3_arbiter.py`)
   - Basic functionality: 4 tests
   - Conflict prevention: 4 tests
   - Temporal closure: 3 tests
   - GPT-5 coordination: 2 tests

3. **Phase 3 Integration** (`test_phase3_integration.py`)
   - Full integration: 11 tests

4. **Original Phase 2** (`test_action_arbiter.py`)
   - ActionArbiter: 10 tests

### Run Tests

```bash
# All tests
python run_beta_v3_tests.py

# Quick tests only
python run_beta_v3_tests.py --quick

# With coverage
python run_beta_v3_tests.py --coverage

# Specific category
pytest tests/ -m core -v
pytest tests/ -m arbiter -v
pytest tests/ -m phase3 -v
```

---

## Performance (Test Mode Observations)

**Note**: These are from controlled test scenarios, not real gameplay.

### Decision Speed

| Method | Time | Usage |
|--------|------|-------|
| Fast Local | <1ms | 80-90% of decisions |
| GPT-4.1 Nano | 2-5s | 10-20% of decisions |
| Average | ~0.5s | Depends on complexity |

### Test Mode Results (60s run)

- **Actions executed**: 15-20
- **Success rate**: High (test mode has no failure conditions)
- **Temporal coherence**: 1.0 (test mode is deterministic)
- **Stuck loops**: 0 (test mode doesn't get stuck)

### Real Gameplay (Anecdotal)

- **Vision accuracy**: Variable, depends on scene complexity
- **Action appropriateness**: Mixed, needs tuning
- **Stuck loop recovery**: Works sometimes
- **API rate limits**: Frequent issue with free tier Gemini

**Bottom line**: Works in test mode. Real gameplay needs more work.

---

## Usage Examples

### Basic Usage

```python
from singularis.core.being_state import BeingState
from singularis.core.temporal_binding import TemporalCoherenceTracker
from singularis.skyrim.action_arbiter import ActionArbiter, ActionPriority

# Initialize systems
being_state = BeingState()
temporal_tracker = TemporalCoherenceTracker()
arbiter = ActionArbiter(skyrim_agi)

# Update subsystems
being_state.update_subsystem('sensorimotor', {
    'status': 'MOVING',
    'analysis': 'Forward movement detected'
})

# Request action
result = await arbiter.request_action(
    action='move_forward',
    priority=ActionPriority.NORMAL,
    source='reasoning',
    context={
        'perception_timestamp': time.time(),
        'scene_type': 'exploration',
        'game_state': game_state
    }
)
```

### With GPT-5 Coordination

```python
from singularis.llm.gpt5_orchestrator import GPT5Orchestrator

# Initialize GPT-5
gpt5 = GPT5Orchestrator(api_key=os.getenv("OPENAI_API_KEY"))
gpt5.register_system("action_arbiter", SystemType.ACTION)

# Create arbiter with GPT-5
arbiter = ActionArbiter(
    skyrim_agi=agi,
    gpt5_orchestrator=gpt5,
    enable_gpt5_coordination=True
)

# Coordinate action decision
candidate_actions = [
    {'action': 'explore', 'priority': 'NORMAL', 'source': 'reasoning', 'confidence': 0.8},
    {'action': 'wait', 'priority': 'LOW', 'source': 'idle', 'confidence': 0.3}
]

selected = await arbiter.coordinate_action_decision(
    being_state=being_state,
    candidate_actions=candidate_actions
)
```

### Conflict Prevention

```python
# Check for conflicts
is_allowed, reason = arbiter.prevent_conflicting_action(
    action='move_forward',
    being_state=being_state,
    priority=ActionPriority.NORMAL
)

if not is_allowed:
    print(f"Action blocked: {reason}")
```

### Temporal Binding Closure

```python
# Check closure rate
closure_result = arbiter.ensure_temporal_binding_closure(
    being_state=being_state,
    temporal_tracker=temporal_tracker
)

print(f"Closure rate: {closure_result['closure_rate']:.1%}")
print(f"Status: {closure_result['status']}")

if not closure_result['meets_target']:
    for rec in closure_result['recommendations']:
        print(f"  - {rec}")
```

---

## Documentation

### Life Operations
- **Phase 1-5 Complete**: `integrations/PHASE_*_COMPLETE.md`
- **Cluster Architecture**: `SEPHIROT_CLUSTER_ARCHITECTURE.md`
- **Deployment Guide**: `DEPLOYMENT_CHECKLIST.md`
- **Modular Architecture**: `MODULAR_ARCHITECTURE.md`
- **Usage Guide**: `MODULAR_USAGE_GUIDE.md`

### Skyrim AGI
- **Testing Guide**: `BETA_V3_TESTING_GUIDE.md`
- **Phase 3 Complete**: `PHASE_3_COMPLETE.md`
- **Quick Reference**: `PHASE_3_QUICK_REFERENCE.md`
- **Implementation Summary**: `PHASE_3_IMPLEMENTATION_SUMMARY.md`

---

## What's Actually Complete

### Life Operations - Beta v4.0 (November 16, 2025) âœ…

**Production Ready**:
- âœ… Life Timeline database (SQLite/PostgreSQL)
- âœ… AGI-powered camera vision (Gemini 2.5 Flash)
- âœ… Pattern detection with GPT-5
- âœ… Natural language queries
- âœ… Messenger bot integration with semantic learning
- âœ… Fitbit health data sync
- âœ… Intelligent interventions with multi-system consensus
- âœ… REST API (`/query`, `/timeline`, `/health`, `/chat`)
- âœ… Sophia Dashboard (FastAPI backend + React Native mobile)
- âœ… Productivity sync service (Google Calendar, Todoist, Notion) - **NEW**
- âœ… Dream analysis system (Jungian/Freudian) - **NEW**
- âœ… Home Assistant integration
- âœ… Modular architecture (6 independent modules)
- âœ… Sephirot cluster deployment plan
- âœ… Physics engine with PyBullet - **NEW**
- âœ… HaackLang truthvalue synchronization - **NEW**
- âœ… Reflex controller with 8 reflexes - **NEW**

**Phases Complete**:
1. âœ… Life Timeline â†” Consciousness bridge
2. âœ… AGI-powered pattern detection
3. âœ… Intelligent interventions with empathy
4. âœ… AGI vision for camera feeds
5. âœ… Natural language query interface
6. âœ… Sophia dashboard (web + mobile)
7. âœ… Productivity integration (calendar/tasks)
8. âœ… **Beta v4.0: All loose ends resolved** - **NEW**

### Skyrim AGI - Beta v4.0 (November 16, 2025) ðŸ”¬

**Working**:
- âœ… Hybrid action selection (fast local + GPT-4.1 Nano)
- âœ… Virtual gamepad control (20+ actions)
- âœ… Test mode with mock AGI
- âœ… Temporal binding (perception-action-outcome tracking)
- âœ… Conflict prevention (stuck loops, priorities)
- âœ… Test suite (56+ tests passing)

**Partially Working**:
- âš ï¸ Vision system (works but rate-limited, accuracy varies)
- âš ï¸ Full SkyrimAGI integration (many subsystems are templates)
- âš ï¸ Learning/memory (implemented but not validated)
- âš ï¸ Real gameplay (works in simple scenarios, needs tuning)

**Experimental/Unproven**:
- ðŸ”¬ "Consciousness" metrics (philosophical concepts)
- ðŸ”¬ Voice/video systems (integrated but optional)
- ðŸ”¬ Long-term stability (not tested beyond short runs)
- ðŸ”¬ Complex gameplay scenarios

**Known Issues**:
- API rate limits (Gemini free tier: 30 RPM)
- Vision model accuracy in complex scenes
- Stuck loop recovery not always effective
- Many subsystems are placeholders

---

## What Needs Work

### High Priority
- [ ] Improve vision accuracy in complex scenes
- [ ] Reduce API rate limit issues
- [ ] Validate learning/memory systems
- [ ] Test real gameplay beyond simple scenarios
- [ ] Document actual performance in real gameplay

### Medium Priority
- [ ] Optimize action selection heuristics
- [ ] Add more robust stuck loop recovery
- [ ] Improve conflict prevention accuracy
- [ ] Add gameplay metrics dashboard

### Low Priority
- [ ] Validate "consciousness" metrics
- [ ] Test long-term stability (24+ hours)
- [ ] Optimize subsystem integration
- [ ] Add more action types

---

## Contributing

This is a research prototype. Contributions welcome, but understand:
- Many features are experimental
- No guarantees of stability
- API keys required for full functionality
- Setup can be complex

**To contribute**:
1. Try the test mode demo first
2. Read existing code and tests
3. Open an issue before major changes
4. Add tests for new features
5. Be realistic about what works

---

## License

See LICENSE file for details.

---

---

## Project Status

**Life Operations**: âœ… Production Ready (personal use)  
**Skyrim AGI**: ðŸ”¬ Research Prototype  
**Architecture**: Modular, deployable on Sephirot cluster  
**Last Updated**: November 16, 2025  

**What Works**:
- Life tracking, pattern detection, natural language queries
- AGI-powered camera vision
- Messenger bot integration
- Modular architecture for independent deployment

**What's Experimental**:
- Skyrim AGI (works in test mode, needs real gameplay validation)
- Long-term stability (not tested beyond short runs)
- Full cluster deployment (documented but not deployed)

---

**Version**: Beta v4.0 (98% Complete)  
**License**: MIT  
**Status**: Production Ready (Life Ops) | Research Prototype (Skyrim AGI)  
**Repository**: [github.com/yourusername/Singularis](https://github.com/yourusername/Singularis)

---

## ðŸ“š Key Documentation

- **`FINAL_SUMMARY_SINGULARIS_BETA_v4.0.md`** - Complete 7-part release summary
- **`LOOSE_ENDS_RESOLVED.md`** - All fixes and implementations documented
- **`ARCHITECTURE_IMPROVEMENTS.md`** - Technical architecture details
- **`SEPHIROT_CLUSTER_ARCHITECTURE.md`** - Distributed deployment guide
- **`integrations/Sophia/`** - Productivity and dream analysis systems
